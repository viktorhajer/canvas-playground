(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{zsk6:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=function(){return function(){}}(),a=u("t68o"),i=u("zbXB"),o=u("NcP4"),s=u("xYTU"),b=u("pMnS"),r=u("FIYE"),c=u("gIcY"),d=u("Ip0R"),h=u("mrSG"),g=u("3mea"),p=u("0z2X"),C=function(l){function n(n){var u=l.call(this,n)||this;return u.minSpeed=80,u.trackerSize=40,u.trackerSpeed=4,u.colorToTrack="#EFD0CF",u.colorTolerance=[.2,1,1],u.hsvColor=[],u.setColorToTrack(p.a.rgbToHsv(p.a.hex2rgb(u.colorToTrack))),u}return h.c(n,l),n.prototype.init=function(){this.canvasBlended=document.createElement("canvas"),this.canvasBlended.width=this.video.width,this.canvasBlended.height=this.video.height,this.ctxBlended=this.canvasBlended.getContext("2d")},n.prototype.computeFrame=function(){var l,n,u,t=this.ctx.getImageData(0,0,this.video.width,this.video.height);this.blend(t),this.ctx.strokeStyle="black",this.ctx.lineWidth=2;for(var e=t.data.length/4,a=0;a<e;a+=4)if(u=4*a,l=a%t.width,n=Math.round(a/t.width),this.isObjectColor(t,this.frameBlended,u)){this.objectShape={x:l,y:n};break}this.objectShape&&!this.actualShape?this.actualShape=this.objectShape:this.objectShape&&this.actualShape&&(this.actualShape.x+=(this.objectShape.x-this.actualShape.x)/this.trackerSpeed,this.actualShape.y+=(this.objectShape.y-this.actualShape.y)/this.trackerSpeed),this.actualShape&&this.ctx.strokeRect(this.actualShape.x-this.trackerSize/2,this.actualShape.y-this.trackerSize/2,this.trackerSize,this.trackerSize)},n.prototype.blend=function(l){this.lastImageData||(this.lastImageData=l);var n=this.ctx.createImageData(this.video.width,this.video.height);this.createBlendedMask(n.data,l.data,this.lastImageData.data),this.ctxBlended.putImageData(n,0,0),this.frameBlended=this.ctxBlended.getImageData(0,0,this.video.width,this.video.height),this.lastImageData=l},n.prototype.createBlendedMask=function(l,n,u){if(n.length!=u.length)return null;for(var t=0;t<.25*n.length;){var e=Math.abs((n[4*t]+n[4*t+1]+n[4*t+2])/3-(u[4*t]+u[4*t+1]+u[4*t+2])/3)>this.minSpeed?255:0;l[4*t]=e,l[4*t+1]=e,l[4*t+2]=e,l[4*t+3]=255,++t}},n.prototype.isObjectColor=function(l,n,u){var t=l.data,e=n.data;if((e[u+0]+e[u+1]+e[u+2])/3<255)return!1;for(var a=u-4;a<=u+4;a+=4){var i=p.a.rgbToHsv([t[a+0],t[a+1],t[a+2]]);if(i[0]<this.hsvColor[0]-this.colorTolerance[0]/2||i[0]>this.hsvColor[0]+this.colorTolerance[0]/2||i[1]<this.hsvColor[1]-this.colorTolerance[1]/2||i[1]>this.hsvColor[1]+this.colorTolerance[1]/2||i[2]<this.hsvColor[2]-this.colorTolerance[2]/2||i[2]>this.hsvColor[2]+this.colorTolerance[2]/2)return!1}return!0},n.prototype.setColorToTrack=function(l){this.hsvColor=l},n.prototype.pickColor=function(l){var n=this.ctx.getImageData(0,0,this.video.width,this.video.height).data,u=this.video.width*l.layerY+l.layerX,t=n[4*u+0],e=n[4*u+1],a=n[4*u+2];this.colorToTrack="#"+p.a.rgb2hex(t,e,a),this.setColorToTrack(p.a.rgbToHsv([t,e,a]))},n}(u("+f/S").a),v=t.qb({encapsulation:0,styles:[[".filter-button[_ngcontent-%COMP%]{width:45px;height:35px}"],r.a],data:{}});function m(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"p",[["class","module-message panel"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Select media stream"]))],null,null)}function f(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,2,"a",[["class","filter-button extra"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleEnabled()&&t),t},null,null)),(l()(),t.sb(1,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Start"]))],null,null)}function A(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,2,"a",[["class","filter-button enabled extra"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleEnabled()&&t),t},null,null)),(l()(),t.sb(1,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Stop"]))],null,null)}function k(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,47,"div",[["class","settings panel"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,46,"div",[["class","settings-container"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,13,"div",[["class","form-field"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,2,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Tracker speed: "])),(l()(),t.sb(6,0,null,null,9,"div",[["class","range-input"]],null,null,null,null,null)),(l()(),t.sb(7,0,null,null,6,"input",[["type","range"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0,a=l.component;return"input"===n&&(e=!1!==t.Cb(l,8)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,8).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,8)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,8)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Cb(l,9).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Cb(l,9).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,9).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(a.trackerSpeed=u)&&e),e},null,null)),t.rb(8,16384,null,0,c.b,[t.G,t.k,[2,c.a]],null,null),t.rb(9,16384,null,0,c.m,[t.G,t.k],null,null),t.Gb(1024,null,c.e,function(l,n){return[l,n]},[c.b,c.m]),t.rb(11,671744,null,0,c.h,[[8,null],[8,null],[8,null],[6,c.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,c.f,null,[c.h]),t.rb(13,16384,null,0,c.g,[[4,c.f]],null,null),(l()(),t.sb(14,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Jb(15,null,["(value: ",")"])),(l()(),t.sb(16,0,null,null,13,"div",[["class","form-field"]],null,null,null,null,null)),(l()(),t.sb(17,0,null,null,2,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.sb(18,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Tracker size: "])),(l()(),t.sb(20,0,null,null,9,"div",[["class","range-input"]],null,null,null,null,null)),(l()(),t.sb(21,0,null,null,6,"input",[["type","range"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0,a=l.component;return"input"===n&&(e=!1!==t.Cb(l,22)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,22).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,22)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,22)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Cb(l,23).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Cb(l,23).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,23).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(a.trackerSize=u)&&e),e},null,null)),t.rb(22,16384,null,0,c.b,[t.G,t.k,[2,c.a]],null,null),t.rb(23,16384,null,0,c.m,[t.G,t.k],null,null),t.Gb(1024,null,c.e,function(l,n){return[l,n]},[c.b,c.m]),t.rb(25,671744,null,0,c.h,[[8,null],[8,null],[8,null],[6,c.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,c.f,null,[c.h]),t.rb(27,16384,null,0,c.g,[[4,c.f]],null,null),(l()(),t.sb(28,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Jb(29,null,["(value: ",")"])),(l()(),t.sb(30,0,null,null,13,"div",[["class","form-field"]],null,null,null,null,null)),(l()(),t.sb(31,0,null,null,2,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.sb(32,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Move speed: "])),(l()(),t.sb(34,0,null,null,9,"div",[["class","range-input"]],null,null,null,null,null)),(l()(),t.sb(35,0,null,null,6,"input",[["type","range"]],[[8,"min",0],[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0,a=l.component;return"input"===n&&(e=!1!==t.Cb(l,36)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,36).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,36)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,36)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Cb(l,37).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Cb(l,37).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,37).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(a.minSpeed=u)&&e),e},null,null)),t.rb(36,16384,null,0,c.b,[t.G,t.k,[2,c.a]],null,null),t.rb(37,16384,null,0,c.m,[t.G,t.k],null,null),t.Gb(1024,null,c.e,function(l,n){return[l,n]},[c.b,c.m]),t.rb(39,671744,null,0,c.h,[[8,null],[8,null],[8,null],[6,c.e]],{model:[0,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,c.f,null,[c.h]),t.rb(41,16384,null,0,c.g,[[4,c.f]],null,null),(l()(),t.sb(42,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Jb(43,null,["(value: ",")"])),(l()(),t.sb(44,0,null,null,3,"div",[["class","form-field"]],null,null,null,null,null)),(l()(),t.sb(45,0,null,null,2,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.sb(46,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Jb(47,null,["Color: ",""]))],function(l,n){var u=n.component;l(n,11,0,u.trackerSpeed),l(n,25,0,u.trackerSize),l(n,39,0,u.minSpeed)},function(l,n){var u=n.component;l(n,7,0,1,20,t.Cb(n,13).ngClassUntouched,t.Cb(n,13).ngClassTouched,t.Cb(n,13).ngClassPristine,t.Cb(n,13).ngClassDirty,t.Cb(n,13).ngClassValid,t.Cb(n,13).ngClassInvalid,t.Cb(n,13).ngClassPending),l(n,15,0,u.trackerSpeed),l(n,21,0,10,100,t.Cb(n,27).ngClassUntouched,t.Cb(n,27).ngClassTouched,t.Cb(n,27).ngClassPristine,t.Cb(n,27).ngClassDirty,t.Cb(n,27).ngClassValid,t.Cb(n,27).ngClassInvalid,t.Cb(n,27).ngClassPending),l(n,29,0,u.trackerSize),l(n,35,0,1,120,t.Cb(n,41).ngClassUntouched,t.Cb(n,41).ngClassTouched,t.Cb(n,41).ngClassPristine,t.Cb(n,41).ngClassDirty,t.Cb(n,41).ngClassValid,t.Cb(n,41).ngClassInvalid,t.Cb(n,41).ngClassPending),l(n,43,0,u.minSpeed),l(n,47,0,u.colorToTrack)})}function S(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"div",[["class","page-title"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Motion Tracking"])),(l()(),t.sb(2,0,null,null,13,"div",[["class","page-content"]],null,null,null,null,null)),(l()(),t.jb(16777216,null,null,1,null,m)),t.rb(4,16384,null,0,d.k,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(5,0,null,null,5,"div",[["class","panel"]],null,null,null,null,null)),(l()(),t.sb(6,0,null,null,4,"div",[["class","filter-buttons"]],null,null,null,null,null)),(l()(),t.jb(16777216,null,null,1,null,f)),t.rb(8,16384,null,0,d.k,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(l()(),t.jb(16777216,null,null,1,null,A)),t.rb(10,16384,null,0,d.k,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(11,0,null,null,2,"div",[["class","sample-container panel"]],null,null,null,null,null)),(l()(),t.sb(12,0,null,null,1,"div",[["class","canvas-container"]],null,null,null,null,null)),(l()(),t.sb(13,0,null,null,0,"canvas",[["height","480"],["id","canvas"],["width","640"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.pickColor(u)&&t),t},null,null)),(l()(),t.jb(16777216,null,null,1,null,k)),t.rb(15,16384,null,0,d.k,[t.R,t.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,4,0,!u.streamToDisplay),l(n,8,0,!u.enabled),l(n,10,0,u.enabled),l(n,15,0,!!u.streamToDisplay)},null)}function T(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,1,"ng-component",[],null,null,null,S,v)),t.rb(1,245760,null,0,C,[g.a],null,null)],function(l,n){l(n,1,0)},null)}var y=t.ob("ng-component",C,T,{},{},[]),x=u("t/Na"),I=u("eDkP"),j=u("Fzqc"),M=u("M2Lx"),w=u("uGex"),D=u("o3x0"),z=u("jQLj"),B=u("Wf4p"),G=u("dWZg"),J=u("mVsa"),P=u("v9Dh"),E=u("ZYjt"),L=u("4c35"),_=u("qAlS"),O=u("seP3"),R=u("UodH"),F=u("lLAP"),Y=u("/VYK"),q=u("b716"),N=u("SMsm"),X=u("y4qS"),H=u("BHnd"),U=u("Blfk"),V=u("6Wmm"),W=u("La40"),K=u("vARd"),Z=u("w+lc"),Q=u("PCNd"),$=u("ZYCi");u.d(n,"TrackingModuleNgFactory",function(){return ll});var ll=t.pb(e,[],function(l){return t.zb([t.Ab(512,t.j,t.eb,[[8,[a.a,i.b,i.a,o.a,s.a,s.b,b.a,y]],[3,t.j],t.z]),t.Ab(4608,d.m,d.l,[t.w,[2,d.v]]),t.Ab(4608,x.h,x.n,[d.d,t.D,x.l]),t.Ab(4608,x.o,x.o,[x.h,x.m]),t.Ab(5120,x.a,function(l){return[l]},[x.o]),t.Ab(4608,x.k,x.k,[]),t.Ab(6144,x.i,null,[x.k]),t.Ab(4608,x.g,x.g,[x.i]),t.Ab(6144,x.b,null,[x.g]),t.Ab(4608,x.f,x.j,[x.b,t.s]),t.Ab(4608,x.c,x.c,[x.f]),t.Ab(4608,c.n,c.n,[]),t.Ab(4608,I.a,I.a,[I.g,I.c,t.j,I.f,I.d,t.s,t.B,d.d,j.b,[2,d.g]]),t.Ab(5120,I.h,I.i,[I.a]),t.Ab(4608,M.c,M.c,[]),t.Ab(5120,w.a,w.b,[I.a]),t.Ab(5120,D.b,D.c,[I.a]),t.Ab(135680,D.d,D.d,[I.a,t.s,[2,d.g],[2,D.a],D.b,[3,D.d],I.c]),t.Ab(4608,z.h,z.h,[]),t.Ab(5120,z.a,z.b,[I.a]),t.Ab(4608,B.a,B.p,[[2,B.f],G.a]),t.Ab(4608,B.b,B.b,[]),t.Ab(5120,J.b,J.f,[I.a]),t.Ab(5120,P.a,P.b,[I.a]),t.Ab(4608,E.f,B.c,[[2,B.g],[2,B.j]]),t.Ab(1073742336,d.c,d.c,[]),t.Ab(1073742336,x.e,x.e,[]),t.Ab(1073742336,x.d,x.d,[]),t.Ab(1073742336,c.l,c.l,[]),t.Ab(1073742336,c.c,c.c,[]),t.Ab(1073742336,j.a,j.a,[]),t.Ab(1073742336,L.g,L.g,[]),t.Ab(1073742336,G.b,G.b,[]),t.Ab(1073742336,_.b,_.b,[]),t.Ab(1073742336,I.e,I.e,[]),t.Ab(1073742336,B.j,B.j,[[2,B.d],[2,E.g]]),t.Ab(1073742336,B.o,B.o,[]),t.Ab(1073742336,B.m,B.m,[]),t.Ab(1073742336,B.l,B.l,[]),t.Ab(1073742336,M.d,M.d,[]),t.Ab(1073742336,O.a,O.a,[]),t.Ab(1073742336,w.c,w.c,[]),t.Ab(1073742336,R.c,R.c,[]),t.Ab(1073742336,D.g,D.g,[]),t.Ab(1073742336,F.a,F.a,[]),t.Ab(1073742336,z.i,z.i,[]),t.Ab(1073742336,B.q,B.q,[]),t.Ab(1073742336,B.k,B.k,[]),t.Ab(1073742336,Y.b,Y.b,[]),t.Ab(1073742336,q.a,q.a,[]),t.Ab(1073742336,J.e,J.e,[]),t.Ab(1073742336,N.c,N.c,[]),t.Ab(1073742336,X.p,X.p,[]),t.Ab(1073742336,H.l,H.l,[]),t.Ab(1073742336,U.c,U.c,[]),t.Ab(1073742336,V.b,V.b,[]),t.Ab(1073742336,P.c,P.c,[]),t.Ab(1073742336,W.j,W.j,[]),t.Ab(1073742336,K.e,K.e,[]),t.Ab(1073742336,Z.a,Z.a,[]),t.Ab(1073742336,Q.a,Q.a,[]),t.Ab(1073742336,$.n,$.n,[[2,$.t],[2,$.k]]),t.Ab(1073742336,e,e,[]),t.Ab(256,x.l,"XSRF-TOKEN",[]),t.Ab(256,x.m,"X-XSRF-TOKEN",[]),t.Ab(256,B.e,B.h,[]),t.Ab(1024,$.i,function(){return[[{path:"",component:C}]]},[])])})}}]);